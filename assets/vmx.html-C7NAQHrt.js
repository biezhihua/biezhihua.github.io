import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{e,f as n,o as a}from"./app-CJwaQKG3.js";const l={};function t(r,i){return a(),e("div",null,i[0]||(i[0]=[n(`<h1 id="vm5-vmx" tabindex="-1"><a class="header-anchor" href="#vm5-vmx"><span>VM5 VMX</span></a></h1><p>下面将对您提供的 VMware 虚拟机配置文件（<code>.vmx</code>）内容进行逐行、分类、细致地说明。该文件是 VMware 为虚拟机定义硬件和软件环境的主要配置文件。通过该文件，VMware Workstation/Player/ESXi 等虚拟化产品会了解如何为虚拟机分配 CPU、内存、硬盘、网络、显示设备及其他硬件资源和特性。</p><p>请注意，不同版本的 VMware 产品和不同的虚拟机可能会有略微不同的配置项。下面解释中所提及的作用与用法基于常见的 VMware Workstation/Player 配置。</p><hr><h3 id="基本信息与编码" tabindex="-1"><a class="header-anchor" href="#基本信息与编码"><span>基本信息与编码</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>.encoding = &quot;GBK&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><strong>含义</strong>：指定此虚拟机配置文件的编码方式为 GBK（适用于中文环境）。</li><li><strong>作用/用法</strong>：确保在 VMware 界面中正确显示包含中文字符的注释、显示名称等信息。</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>displayName = &quot;闪电侠1&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><strong>含义</strong>：虚拟机显示名称，即在 VMware 虚拟机列表中显示的虚拟机名称。</li><li><strong>作用/用法</strong>：用于在 VMware 管理界面中识别该虚拟机，用户可在界面中直观看到这个名称。</li></ul><hr><h3 id="基本虚拟机配置参数" tabindex="-1"><a class="header-anchor" href="#基本虚拟机配置参数"><span>基本虚拟机配置参数</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>#monitor_control.restrict_backdoor = &quot;TRUE&quot;</span></span>
<span class="line"><span>monitor_control.restrict_backdoor = &quot;TRUE&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>含义</strong>：<code>monitor_control.restrict_backdoor</code> 用于限制 VMware 特定的 backdoor I/O 通道（如 VMX 等），从而在某些软件检测虚拟环境时减少标识。</li><li><strong>作用/用法</strong>：TRUE 时限制使用 VMware backdoor 通道，增强对虚拟化检测的隐藏性。</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>config.version = &quot;8&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><strong>含义</strong>：虚拟机配置文件版本（非虚拟硬件版本），指明该 <code>.vmx</code> 文件的格式版本。</li><li><strong>作用/用法</strong>：VMware 不同版本有不同的 <code>config.version</code> 值，用于内部兼容与识别。</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>virtualHW.version = &quot;18&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><strong>含义</strong>：虚拟硬件版本号（Hardware Version）。不同版本对应着 VMware 对虚拟化硬件特性的支持程度。</li><li><strong>作用/用法</strong>：更高的版本支持更新的硬件特性和虚拟设备功能。</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>mks.enable3d = &quot;TRUE&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><strong>含义</strong>：启用 3D 加速（MKS是VMware内部显示组件的简称）。</li><li><strong>作用/用法</strong>：允许虚拟机中启用 3D 渲染加速，对图形应用有更好的性能体验。</li></ul><hr><h3 id="pci桥接与总线相关配置-扩展硬件插槽" tabindex="-1"><a class="header-anchor" href="#pci桥接与总线相关配置-扩展硬件插槽"><span>PCI桥接与总线相关配置（扩展硬件插槽）</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>pciBridge0.present = &quot;TRUE&quot;</span></span>
<span class="line"><span>pciBridge4.present = &quot;TRUE&quot;</span></span>
<span class="line"><span>pciBridge4.virtualDev = &quot;pcieRootPort&quot;</span></span>
<span class="line"><span>pciBridge4.functions = &quot;8&quot;</span></span>
<span class="line"><span>pciBridge5.present = &quot;TRUE&quot;</span></span>
<span class="line"><span>pciBridge5.virtualDev = &quot;pcieRootPort&quot;</span></span>
<span class="line"><span>pciBridge5.functions = &quot;8&quot;</span></span>
<span class="line"><span>pciBridge6.present = &quot;TRUE&quot;</span></span>
<span class="line"><span>pciBridge6.virtualDev = &quot;pcieRootPort&quot;</span></span>
<span class="line"><span>pciBridge6.functions = &quot;8&quot;</span></span>
<span class="line"><span>pciBridge7.present = &quot;TRUE&quot;</span></span>
<span class="line"><span>pciBridge7.virtualDev = &quot;pcieRootPort&quot;</span></span>
<span class="line"><span>pciBridge7.functions = &quot;8&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>含义</strong>：<code>pciBridgeX</code> 表示 PCI/PCIe 桥接器，用于在虚拟机内提供更多的 PCI/PCIe 插槽设备。</li><li><strong>作用/用法</strong>：给虚拟机添加更多可用的虚拟 PCIe Root Port，方便添加更多虚拟设备，如网卡、磁盘控制器等。<code>functions = &quot;8&quot;</code> 一般表示该桥能支持多函数设备。</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>vmci0.present = &quot;TRUE&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><strong>含义</strong>：启用 VMware VMCI 设备（VMware虚拟机之间及虚拟机和宿主机间的高速通信接口）。</li><li><strong>作用/用法</strong>：用于提升宿主机与虚拟机间通信的性能（如 VMware Tools 的高效通信）。</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>hpet0.present = &quot;TRUE&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><strong>含义</strong>：HPET（High Precision Event Timer）高精度事件计时器启用。</li><li><strong>作用/用法</strong>：为虚拟机提供更高精度的计时器支持。</li></ul><hr><h3 id="nvram及兼容性信息" tabindex="-1"><a class="header-anchor" href="#nvram及兼容性信息"><span>NVRAM及兼容性信息</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>nvram = &quot;闪电侠1.nvram&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><strong>含义</strong>：指定虚拟机的 NVRAM 文件位置（存储虚拟机 BIOS 的非易失性配置信息）。</li><li><strong>作用/用法</strong>：用于记忆 BIOS 中的设定、启动顺序等信息。</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>virtualHW.productCompatibility = &quot;hosted&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><strong>含义</strong>：表示该虚拟机运行在“hosted”环境（如 VMware Workstation），而非独立的 ESXi。</li><li><strong>作用/用法</strong>：用于确定虚拟机特定兼容性参数。</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>powerType.powerOff = &quot;soft&quot;</span></span>
<span class="line"><span>powerType.powerOn = &quot;soft&quot;</span></span>
<span class="line"><span>powerType.suspend = &quot;soft&quot;</span></span>
<span class="line"><span>powerType.reset = &quot;soft&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>含义</strong>：定义电源操作（关机、开机、挂起、重置）为 “soft”（软操作）。</li><li><strong>作用/用法</strong>：使用 VMware 正常的控制逻辑来执行对应动作（区别于硬关机/重启）。</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>guestOS = &quot;windows9-64&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><strong>含义</strong>：指定客户机操作系统类型，这里表示 Windows 10 64 位（VMware的内部代号中 windows9-64 通常指 Win10 64-bit）。</li><li><strong>作用/用法</strong>：帮助 VMware 优化对该操作系统的虚拟硬件和驱动。</li></ul><hr><h3 id="工具与时间同步设置" tabindex="-1"><a class="header-anchor" href="#工具与时间同步设置"><span>工具与时间同步设置</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>tools.syncTime = &quot;FALSE&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><strong>含义</strong>：禁止虚拟机通过 VMware Tools 与宿主机时间同步。</li><li><strong>作用/用法</strong>：确保虚拟机时间独立，不与主机自动同步。</li></ul><hr><h3 id="声卡和设备" tabindex="-1"><a class="header-anchor" href="#声卡和设备"><span>声卡和设备</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>sound.autoDetect = &quot;TRUE&quot;</span></span>
<span class="line"><span>sound.virtualDev = &quot;hdaudio&quot;</span></span>
<span class="line"><span>sound.fileName = &quot;-1&quot;</span></span>
<span class="line"><span>sound.present = &quot;TRUE&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>含义</strong>：启用虚拟声卡设备并自动检测宿主机环境，使用 HDAudio 虚拟声卡。</li><li><strong>作用/用法</strong>：为虚拟机提供音频支持，允许客操作系统输出声音。</li></ul><hr><h3 id="cpu、内存配置" tabindex="-1"><a class="header-anchor" href="#cpu、内存配置"><span>CPU、内存配置</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>numvcpus = &quot;4&quot;</span></span>
<span class="line"><span>cpuid.coresPerSocket = &quot;2&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>含义</strong>：为虚拟机分配 4 个虚拟 CPU（vCPU），并且每个 Socket 有2个核心，这表示拓扑为2核/2 Socket或1 Socket有4核心的逻辑。</li><li><strong>作用/用法</strong>：为客户机OS提供多CPU核心，提升多任务性能。</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>memsize = &quot;8780&quot;</span></span>
<span class="line"><span>mem.hotadd = &quot;TRUE&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>含义</strong>：分配 8780MB 内存给虚拟机（约8.58GB），<code>mem.hotadd = TRUE</code>表示支持内存热添加功能（在支持的操作系统上可在运行中增加内存）。</li><li><strong>作用/用法</strong>：为虚拟机提供所需的内存资源，热添加功能提高灵活性。</li></ul><hr><h3 id="cpu指令集与隐藏虚拟化" tabindex="-1"><a class="header-anchor" href="#cpu指令集与隐藏虚拟化"><span>CPU指令集与隐藏虚拟化</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>cpuid.1.ecx = &quot;00000000100111101110001111111101&quot;</span></span>
<span class="line"><span>cpuid.1.edx = &quot;10111111111010111111101111111111&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>含义</strong>：修改 CPU 的 CPUID 返回值，让客操作系统看到特定的指令集特征。这通常用于隐藏虚拟化特征或进行特定指令集伪装。</li><li><strong>作用/用法</strong>：帮助避免软件检测出虚拟机环境，也可进行特定功能的启用或禁用。</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>isolation.tools.getPtrLocation.disable = &quot;TRUE&quot;</span></span>
<span class="line"><span>isolation.tools.setPtrLocation.disable = &quot;TRUE&quot;</span></span>
<span class="line"><span>isolation.tools.setVersion.disable = &quot;TRUE&quot;</span></span>
<span class="line"><span>isolation.tools.getVersion.disable = &quot;TRUE&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>含义</strong>：isolation.tools.* 参数用于限制宿主机和虚拟机之间的一些交互接口调用。</li><li><strong>作用/用法</strong>：禁用通过 VMware Tools 获取指针位置、版本信息等，用来增加隔离性和减少检测特征。</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>mainMem.useNamedFile = &quot;FALSE&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><strong>含义</strong>：关闭虚拟机内存文件映射为命名文件（默认为TRUE时，内存可能映射在宿主文件系统中）。</li><li><strong>作用/用法</strong>：提升性能或安全性，减少宿主机文件系统中暴露虚拟机内存的情况。</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>hypervisor.cpuid.v0 = &quot;FALSE&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><strong>含义</strong>：隐藏特定的 Hypervisor CPUID 位。</li><li><strong>作用/用法</strong>：减少被客户机识别为虚拟机的可能性，常用于反虚拟化检测。</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>devices.hotplug = &quot;FALSE&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><strong>含义</strong>：禁用设备热插拔特性。</li><li><strong>作用/用法</strong>：防止在虚拟机运行时动态添加或移除虚拟设备。</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>monitor.virtual_mmu = &quot;automatic&quot;</span></span>
<span class="line"><span>monitor.virtual_exec = &quot;automatic&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>含义</strong>：控制虚拟机的内存管理单元 (MMU) 和执行模式选项。</li><li><strong>作用/用法</strong>：&quot;automatic&quot; 表示由 VMware 自动决定使用软件或硬件辅助的方式提升性能和兼容性。</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>cpuid.6.eax = &quot;00000000000000000000000000000000&quot;</span></span>
<span class="line"><span>cpuid.6.ecx = &quot;00000000000000000000000000000000&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>含义</strong>：进一步修改 CPUID 的第6页寄存器的信息。</li><li><strong>作用/用法</strong>：隐藏 CPU 功耗管理特性等信息，减少虚拟化特征暴露。</li></ul><hr><h3 id="磁盘与存储配置" tabindex="-1"><a class="header-anchor" href="#磁盘与存储配置"><span>磁盘与存储配置</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>ide0:0.fileName = &quot;c-cl1.vmdk&quot;</span></span>
<span class="line"><span>ide0:0.present = &quot;TRUE&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>含义</strong>：定义 IDE0:0 设备（第一个IDE通道主盘）使用 <code>c-cl1.vmdk</code> 虚拟磁盘文件。</li><li><strong>作用/用法</strong>：指定虚拟机的主要系统磁盘来源。</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>mainMem.useNamedFile = &quot;FALSE&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>前面已解释。此处重申该参数对内存映射文件的使用方式。</li></ul><hr><h3 id="usb-设备" tabindex="-1"><a class="header-anchor" href="#usb-设备"><span>USB 设备</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>usb.present = &quot;TRUE&quot;</span></span>
<span class="line"><span>ehci.present = &quot;TRUE&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>含义</strong>：启用 USB 控制器，以及 EHCI（USB 2.0）支持。</li><li><strong>作用/用法</strong>：允许在虚拟机中使用 USB 设备。</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>usb:1.speed = &quot;2&quot;</span></span>
<span class="line"><span>usb:1.present = &quot;TRUE&quot;</span></span>
<span class="line"><span>usb:1.deviceType = &quot;hub&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>含义</strong>：配置 USB 端口1为 USB 2.0（speed=2）并作为一个 USB HUB 存在。</li><li><strong>作用/用法</strong>：提供多个USB设备接入点的模拟。</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>usb:0.present = &quot;TRUE&quot;</span></span>
<span class="line"><span>usb:0.deviceType = &quot;hid&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>含义</strong>：启用 USB0 作为 HID(人机交互设备)。</li><li><strong>作用/用法</strong>：模拟鼠标、键盘等HID设备给虚拟机使用。</li></ul><hr><h3 id="uuid-与标识信息" tabindex="-1"><a class="header-anchor" href="#uuid-与标识信息"><span>UUID 与标识信息</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>uuid.action = &quot;create&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><strong>含义</strong>：在虚拟机移动或复制后，UUID处理策略为&quot;create&quot;（创建新UUID）。</li><li><strong>作用/用法</strong>：保证每次迁移或复制后虚拟机有独特UUID，避免冲突。</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>uuid.bios = &quot;55 58 8a 0b 60 45 68 7f-7a 2a bd b1 2d 70 9a a6&quot;</span></span>
<span class="line"><span>uuid.location = &quot;55 58 8a 0b 60 45 68 7f-7a 2a bd b1 2d 70 9a a6&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>含义</strong>：虚拟机的 BIOS UUID 以及位置UUID。</li><li><strong>作用/用法</strong>：用于识别虚拟机身份，部分软件可能使用此UUID进行授权校验。</li></ul><hr><h3 id="网络配置" tabindex="-1"><a class="header-anchor" href="#网络配置"><span>网络配置</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>ethernet0.connectionType = &quot;nat&quot;</span></span>
<span class="line"><span>ethernet0.addressType = &quot;static&quot;</span></span>
<span class="line"><span>ethernet0.virtualDev = &quot;e1000&quot;</span></span>
<span class="line"><span>ethernet0.present = &quot;TRUE&quot;</span></span>
<span class="line"><span>ethernet0.address = &quot;26:2d:63:2f:ba:65&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>含义</strong>：虚拟网卡0使用 NAT 模式连接网络，地址类型为静态，虚拟网卡类型为 e1000（英特尔仿真网卡），MAC地址为 <code>26:2d:63:2f:ba:65</code>。</li><li><strong>作用/用法</strong>：提供网络连接方式（NAT 模式下虚拟机通过宿主机共享网络访问），<code>e1000</code>虚拟网卡可提高兼容性。</li></ul><hr><h3 id="图形与显示参数" tabindex="-1"><a class="header-anchor" href="#图形与显示参数"><span>图形与显示参数</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>svga.graphicsMemoryKB = &quot;8388608&quot;</span></span>
<span class="line"><span>svga.vramSize = &quot;268435456&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>含义</strong>：分配给虚拟 SVGA 显卡的显存大小（此处 8388608KB = 8GB，对应 VRAM 分配非常大）。</li><li><strong>作用/用法</strong>：为虚拟机提供更多的虚拟显存，提升图形性能。<code>vramSize</code> 则通过不同语法也指定了相同/相似参数。</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>monitor.phys_bits_used = &quot;45&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><strong>含义</strong>：物理地址空间的位宽信息（一般在高端平台上内存寻址位宽为39-52位不等）。</li><li><strong>作用/用法</strong>：更真实地模拟物理CPU的寻址能力。</li></ul><hr><h3 id="重放、快照以及其他控制" tabindex="-1"><a class="header-anchor" href="#重放、快照以及其他控制"><span>重放、快照以及其他控制</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>replay.supported = &quot;FALSE&quot;</span></span>
<span class="line"><span>replay.filename = &quot;&quot;</span></span>
<span class="line"><span>checkpoint.vmState.readOnly = &quot;FALSE&quot;</span></span>
<span class="line"><span>checkpoint.vmState = &quot;&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>含义</strong>：<code>replay</code>参数用于 VMware 的回放功能（在特定VMware版本中使用），此处禁用。</li><li><strong>作用/用法</strong>：虚拟机状态检查点与重放功能关闭，不进行状态文件记录。</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>annotation = &quot;服务类目  |0D|0A  游戏专用ip搭建   系统重装   易语言软件定制（违法不写）有需要可以联系&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><strong>含义</strong>：虚拟机注释，用于用户备注说明。</li><li><strong>作用/用法</strong>：提供虚拟机的描述性信息，方便管理和记忆。</li></ul><hr><h3 id="vmware-tools与其他辅助参数" tabindex="-1"><a class="header-anchor" href="#vmware-tools与其他辅助参数"><span>VMware Tools与其他辅助参数</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>tools.remindInstall = &quot;FALSE&quot;</span></span>
<span class="line"><span>tools.upgrade.policy = &quot;useGlobal&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>含义</strong>： <ul><li><code>tools.remindInstall = &quot;FALSE&quot;</code>：不提醒安装 VMware Tools。</li><li><code>tools.upgrade.policy = &quot;useGlobal&quot;</code>：使用全局策略控制 VMware Tools 更新策略。</li></ul></li><li><strong>作用/用法</strong>：减少弹出安装/升级 VMware Tools 的提醒，以及使用统一的策略管理 Tools 升级。</li></ul><hr><h3 id="其他cpu标识模拟" tabindex="-1"><a class="header-anchor" href="#其他cpu标识模拟"><span>其他CPU标识模拟</span></a></h3><p>多处 <code>cpuid.80000002.*</code>、<code>cpuid.80000003.*</code>、<code>cpuid.80000004.*</code> 的设置：</p><ul><li><strong>含义</strong>：通过修改这些 CPUID 扩展寄存器返回值来更改 CPU 的品牌字符串和特性信息，模拟特定 CPU 标识。</li><li><strong>作用/用法</strong>：可以伪装 CPU 型号、特性，让虚拟机更像真实物理机，有时用于软件兼容性或隐藏虚拟化特征。</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>monitor_control.enable_fullcpuid = TRUE</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><strong>含义</strong>：允许对 CPUID 指令进行更全面的控制或使客户机看到更完整的CPUID信息。</li><li><strong>作用/用法</strong>：与上述 CPUID 修改配合，更灵活地自定义虚拟机对客户机报告的CPU特征。</li></ul><hr><h3 id="远程显示" tabindex="-1"><a class="header-anchor" href="#远程显示"><span>远程显示</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>RemoteDisplay.vnc.enabled = &quot;TRUE&quot;</span></span>
<span class="line"><span>RemoteDisplay.vnc.port = &quot;7002&quot;</span></span>
<span class="line"><span>RemoteDisplay.vnc.key = &quot;&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>含义</strong>：启用 VNC 远程连接功能，监听 7002 端口。</li><li><strong>作用/用法</strong>：允许用户通过 VNC 客户端远程查看并控制此虚拟机的显示界面。</li></ul><hr><h3 id="综合说明" tabindex="-1"><a class="header-anchor" href="#综合说明"><span>综合说明</span></a></h3><p>通过以上配置项，<code>.vmx</code> 文件主要用于描述虚拟机的：</p><ol><li><strong>基础信息</strong>（名称、编码、注释）</li><li><strong>硬件配置</strong>（CPU数目、内存大小、磁盘与控制器、网卡、声卡、USB、显卡等）</li><li><strong>高级属性</strong>（CPUID修改、虚拟化隐藏设置、时间同步、PCI桥接、NVRAM文件位置）</li><li><strong>虚拟机特定特性</strong>（VMware Tools相关、远程显示、快照与回放功能）</li><li><strong>兼容性和版本信息</strong>（虚拟硬件版本、配置文件版本）</li></ol><p>通过编辑和调整这些参数，用户可定制虚拟机的运行环境，使其更接近实际物理机的特性，也可控制虚拟机性能、兼容性和安全性。</p><hr><h3 id="总结" tabindex="-1"><a class="header-anchor" href="#总结"><span>总结</span></a></h3><p><code>.vmx</code> 文件是 VMware 虚拟机配置的核心文件。通过对这些配置项的编辑，你可以：</p><ul><li>调整硬件资源（CPU、内存、磁盘、网卡、USB设备）。</li><li>控制虚拟化特性（隐藏虚拟化标志、修改CPUID信息）。</li><li>管理时间同步、声音、显示器、3D 加速。</li><li>使用 VNC 等远程访问功能。</li><li>优化和配置虚拟机的整体性能与兼容性。</li></ul><p>以上逐行解释帮助理解每个参数的用途和典型用法，从而在日常维护和调试中更好地掌握虚拟机的细微配置和优化手段。</p>`,127)]))}const h=s(l,[["render",t],["__file","vmx.html.vue"]]),c=JSON.parse('{"path":"/public-articles/vmx.html","title":"VM5 VMX","lang":"zh-CN","frontmatter":{"description":"VM5 VMX 下面将对您提供的 VMware 虚拟机配置文件（.vmx）内容进行逐行、分类、细致地说明。该文件是 VMware 为虚拟机定义硬件和软件环境的主要配置文件。通过该文件，VMware Workstation/Player/ESXi 等虚拟化产品会了解如何为虚拟机分配 CPU、内存、硬盘、网络、显示设备及其他硬件资源和特性。 请注意，不同版...","head":[["meta",{"property":"og:url","content":"https://github.com/biezhihua/public-articles/vmx.html"}],["meta",{"property":"og:site_name","content":"biezhihua的日常"}],["meta",{"property":"og:title","content":"VM5 VMX"}],["meta",{"property":"og:description","content":"VM5 VMX 下面将对您提供的 VMware 虚拟机配置文件（.vmx）内容进行逐行、分类、细致地说明。该文件是 VMware 为虚拟机定义硬件和软件环境的主要配置文件。通过该文件，VMware Workstation/Player/ESXi 等虚拟化产品会了解如何为虚拟机分配 CPU、内存、硬盘、网络、显示设备及其他硬件资源和特性。 请注意，不同版..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-03-08T14:25:34.000Z"}],["meta",{"property":"article:modified_time","content":"2025-03-08T14:25:34.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"VM5 VMX\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-03-08T14:25:34.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"别志华\\",\\"url\\":\\"https://github.com/biezhihua\\"}]}"]]},"git":{"createdTime":1733478767000,"updatedTime":1741443934000,"contributors":[{"name":"biezhihua","username":"biezhihua","email":"biezhihua@gmail.com","commits":3,"url":"https://github.com/biezhihua"}]},"readingTime":{"minutes":10.17,"words":3052},"filePathRelative":"public-articles/vmx.md","localizedDate":"2024年12月6日","excerpt":"","autoDesc":true}');export{h as comp,c as data};
